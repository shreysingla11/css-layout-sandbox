<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CASE No. 14-0214 | Alex v. Nancy</title>
<style>
  :root {
    --gold: #c9a84c;
    --gold-light: #e8d48b;
    --dark: #0d0f1a;
    --dark-card: #141625;
    --cream: #f0e6d3;
    --cream-dim: #b8a88a;
    --red: #8b2035;
    --red-glow: #c0334d;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--dark);
    color: var(--cream);
    font-family: Georgia, 'Times New Roman', serif;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  .screen {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease;
    overflow-y: auto;
  }

  .screen.active {
    opacity: 1;
    pointer-events: all;
  }

  /* ===== SCREEN 0: INTRO ===== */
  #intro {
    background: var(--dark);
  }

  .seal {
    width: 120px;
    height: 120px;
    border: 3px solid var(--gold);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 2rem;
    position: relative;
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .seal::before {
    content: '';
    position: absolute;
    inset: 6px;
    border: 1.5px solid var(--gold);
    border-radius: 50%;
  }

  .seal-text {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--gold);
    text-align: center;
    line-height: 1.4;
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(201, 168, 76, 0.2); }
    50% { box-shadow: 0 0 40px rgba(201, 168, 76, 0.4); }
  }

  .intro-title {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    color: var(--gold);
    letter-spacing: 6px;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .intro-subtitle {
    font-size: clamp(0.8rem, 2vw, 1rem);
    color: var(--cream-dim);
    letter-spacing: 4px;
    text-transform: uppercase;
    margin-bottom: 3rem;
  }

  .btn {
    background: transparent;
    border: 1.5px solid var(--gold);
    color: var(--gold);
    padding: 0.9rem 2.5rem;
    font-family: Georgia, serif;
    font-size: 1rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .btn:hover {
    background: var(--gold);
    color: var(--dark);
  }

  .btn-red {
    border-color: var(--red);
    color: var(--red);
  }

  .btn-red:hover {
    background: var(--red);
    color: var(--cream);
  }

  /* ===== SCREEN 1: SUMMONS ===== */
  #summons {
    background: var(--dark);
  }

  .document {
    background: #faf6ee;
    color: #1a1a1a;
    max-width: 650px;
    width: 100%;
    padding: clamp(1.5rem, 4vw, 3rem);
    position: relative;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    max-height: 85vh;
    overflow-y: auto;
  }

  .document::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--gold), var(--red), var(--gold));
  }

  .doc-header {
    text-align: center;
    border-bottom: 2px solid #1a1a1a;
    padding-bottom: 1rem;
    margin-bottom: 1.5rem;
  }

  .doc-court {
    font-size: clamp(0.7rem, 2vw, 0.85rem);
    letter-spacing: 4px;
    text-transform: uppercase;
    font-weight: bold;
    margin-bottom: 0.3rem;
  }

  .doc-circuit {
    font-size: 0.75rem;
    letter-spacing: 2px;
    color: #555;
  }

  .doc-case-no {
    font-size: 0.8rem;
    margin-top: 0.8rem;
    color: #333;
  }

  .doc-title {
    font-size: clamp(1.2rem, 3vw, 1.6rem);
    text-align: center;
    margin: 1.5rem 0;
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: bold;
  }

  .doc-parties {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin: 1.5rem 0;
    font-size: 1.05rem;
  }

  .doc-parties .vs {
    font-style: italic;
    color: #888;
    font-size: 0.9rem;
  }

  .doc-party-name {
    font-weight: bold;
    font-size: 1.1rem;
  }

  .doc-party-role {
    font-size: 0.75rem;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .doc-body {
    line-height: 1.9;
    font-size: 0.95rem;
    text-align: justify;
  }

  .doc-body p {
    margin-bottom: 1rem;
    text-indent: 2rem;
  }

  .doc-body .no-indent {
    text-indent: 0;
  }

  .doc-stamp {
    text-align: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid #ccc;
  }

  .doc-stamp-text {
    color: var(--red);
    font-size: 1.4rem;
    font-weight: bold;
    letter-spacing: 6px;
    text-transform: uppercase;
    border: 3px solid var(--red);
    display: inline-block;
    padding: 0.4rem 1.5rem;
    transform: rotate(-3deg);
  }

  .doc-btn-wrap {
    text-align: center;
    margin-top: 2rem;
  }

  .doc-btn {
    background: #1a1a1a;
    color: #faf6ee;
    border: none;
    padding: 0.8rem 2rem;
    font-family: Georgia, serif;
    font-size: 0.9rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s;
  }

  .doc-btn:hover {
    background: var(--red);
  }

  /* ===== SCREEN 2: EVIDENCE ===== */
  #evidence {
    background: var(--dark);
  }

  .evidence-title {
    font-size: clamp(1rem, 3vw, 1.4rem);
    color: var(--gold);
    letter-spacing: 5px;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }

  .evidence-subtitle {
    color: var(--cream-dim);
    font-size: 0.85rem;
    margin-bottom: 2.5rem;
    font-style: italic;
  }

  .exhibits {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.5rem;
    max-width: 800px;
    width: 100%;
    margin-bottom: 2.5rem;
  }

  .exhibit {
    background: var(--dark-card);
    border: 1px solid rgba(201, 168, 76, 0.2);
    padding: 1.8rem;
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
  }

  .exhibit::after {
    content: 'CLICK TO UNSEAL';
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--dark-card);
    color: var(--gold);
    font-size: 0.7rem;
    letter-spacing: 3px;
    transition: opacity 0.5s;
  }

  .exhibit.revealed::after {
    opacity: 0;
    pointer-events: none;
  }

  .exhibit:hover {
    border-color: var(--gold);
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(201, 168, 76, 0.1);
  }

  .exhibit-label {
    font-size: 0.7rem;
    color: var(--gold);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 0.8rem;
  }

  .exhibit-content {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--cream);
  }

  .exhibit-tag {
    font-size: 0.7rem;
    color: var(--cream-dim);
    margin-top: 1rem;
    font-style: italic;
  }

  .evidence-progress {
    font-size: 0.75rem;
    color: var(--cream-dim);
    letter-spacing: 2px;
    margin-bottom: 1.5rem;
  }

  #evidence-next {
    opacity: 0;
    transition: opacity 0.5s;
  }

  #evidence-next.show {
    opacity: 1;
  }

  /* ===== SCREEN 3: MOTION ===== */
  #motion {
    background: var(--dark);
  }

  .motion-doc {
    max-height: 80vh;
  }

  .motion-section {
    margin-bottom: 1.5rem;
  }

  .motion-section-title {
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    text-indent: 0;
  }

  .motion-item {
    margin-bottom: 0.8rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .motion-item::before {
    content: attr(data-num);
    position: absolute;
    left: 0;
    font-weight: bold;
    font-size: 0.85rem;
  }

  .prayer {
    font-style: italic;
    border-left: 3px solid var(--red);
    padding-left: 1rem;
    margin: 1.5rem 0;
    color: #333;
  }

  .signature-block {
    margin-top: 2rem;
    text-align: right;
    font-style: italic;
    line-height: 2;
  }

  .signature-name {
    font-style: normal;
    font-weight: bold;
    font-size: 1.1rem;
    border-top: 1px solid #333;
    display: inline-block;
    padding-top: 0.3rem;
    margin-top: 0.5rem;
  }

  /* ===== SCREEN 4: CLOSING ===== */
  #closing {
    background: #050508;
  }

  .closing-container {
    max-width: 650px;
    text-align: center;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .closing-line {
    font-size: clamp(1.05rem, 2.5vw, 1.35rem);
    line-height: 2;
    color: var(--cream);
    opacity: 0;
    transform: translateY(15px);
    transition: all 0.8s ease;
    margin-bottom: 0.5rem;
  }

  .closing-line.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .closing-line.highlight {
    color: var(--gold);
    font-size: clamp(1.3rem, 3vw, 1.7rem);
    margin-top: 1rem;
  }

  .closing-line.dim {
    color: var(--cream-dim);
    font-style: italic;
    font-size: clamp(0.9rem, 2vw, 1rem);
  }

  #closing-next {
    opacity: 0;
    margin-top: 2rem;
    transition: opacity 0.5s;
  }

  #closing-next.show {
    opacity: 1;
  }

  /* ===== SCREEN 5: VERDICT ===== */
  #verdict {
    background: var(--dark);
    position: relative;
  }

  .verdict-card {
    text-align: center;
    max-width: 550px;
  }

  .verdict-overline {
    font-size: 0.75rem;
    letter-spacing: 5px;
    text-transform: uppercase;
    color: var(--cream-dim);
    margin-bottom: 1rem;
  }

  .verdict-main {
    font-size: clamp(1.8rem, 5vw, 3rem);
    color: var(--gold);
    margin-bottom: 0.5rem;
    line-height: 1.3;
  }

  .verdict-sub {
    font-size: clamp(1rem, 2.5vw, 1.3rem);
    color: var(--cream);
    margin-bottom: 0.5rem;
    line-height: 1.6;
  }

  .verdict-sentence {
    font-style: italic;
    color: var(--cream-dim);
    font-size: 1rem;
    margin: 1.5rem 0;
    line-height: 1.8;
  }

  .verdict-sentence span {
    color: var(--gold-light);
    font-style: normal;
  }

  .verdict-btn-wrap {
    margin-top: 2rem;
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .gavel-icon {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    display: block;
  }

  /* ===== HEARTS CANVAS ===== */
  #hearts-canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 999;
  }

  /* ===== FINAL SCREEN ===== */
  #final {
    background: var(--dark);
  }

  .final-message {
    text-align: center;
    max-width: 500px;
  }

  .final-heart {
    font-size: 4rem;
    margin-bottom: 1.5rem;
    display: block;
    animation: heartbeat 1.2s ease-in-out infinite;
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
  }

  .final-title {
    font-size: clamp(1.5rem, 4vw, 2.2rem);
    color: var(--gold);
    margin-bottom: 1rem;
  }

  .final-text {
    color: var(--cream);
    line-height: 1.8;
    font-size: 1.05rem;
  }

  .final-date {
    margin-top: 2rem;
    font-size: 0.8rem;
    letter-spacing: 3px;
    color: var(--cream-dim);
    text-transform: uppercase;
  }

  /* ===== OVERRULED OVERLAY ===== */
  .overruled-overlay {
    position: fixed;
    inset: 0;
    background: rgba(5, 5, 8, 0.95);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
  }

  .overruled-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  .overruled-text {
    font-size: clamp(2rem, 6vw, 4rem);
    color: var(--red-glow);
    letter-spacing: 8px;
    text-transform: uppercase;
    font-weight: bold;
    animation: slam 0.4s ease-out;
  }

  @keyframes slam {
    0% { transform: scale(3); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  .overruled-reason {
    color: var(--cream-dim);
    font-style: italic;
    margin-top: 1rem;
    font-size: 1rem;
    text-align: center;
    max-width: 400px;
  }

  .overruled-dismiss {
    margin-top: 2rem;
    font-size: 0.75rem;
    color: var(--cream-dim);
    letter-spacing: 2px;
    cursor: pointer;
  }

  /* ===== RESPONSIVENESS ===== */
  @media (max-width: 500px) {
    .doc-parties {
      flex-direction: column;
      gap: 0.5rem;
    }
    .exhibits {
      grid-template-columns: 1fr;
    }
    .verdict-btn-wrap {
      flex-direction: column;
      align-items: center;
    }
  }

  /* Scrollbar for documents */
  .document::-webkit-scrollbar {
    width: 6px;
  }
  .document::-webkit-scrollbar-track {
    background: #e8e0d0;
  }
  .document::-webkit-scrollbar-thumb {
    background: #c9a84c;
    border-radius: 3px;
  }
</style>
</head>
<body>

<canvas id="hearts-canvas"></canvas>

<!-- SCREEN 0: INTRO -->
<div id="intro" class="screen active">
  <div class="seal">
    <div class="seal-text">Court<br>of<br>Love</div>
  </div>
  <div class="intro-title">Case No. 14-0214</div>
  <div class="intro-subtitle">Alex v. Nancy</div>
  <button class="btn" onclick="goTo('summons')">Enter the Courtroom</button>
</div>

<!-- SCREEN 1: SUMMONS -->
<div id="summons" class="screen">
  <div class="document">
    <div class="doc-header">
      <div class="doc-court">The Superior Court of Love</div>
      <div class="doc-circuit">First Circuit &mdash; Valentine's Division</div>
      <div class="doc-case-no">Case No. 14-0214 &nbsp;|&nbsp; Filed: February 2026</div>
    </div>

    <div class="doc-title">Summons</div>

    <div class="doc-parties">
      <div style="text-align:center">
        <div class="doc-party-name">Alex</div>
        <div class="doc-party-role">Plaintiff</div>
      </div>
      <div class="vs">v.</div>
      <div style="text-align:center">
        <div class="doc-party-name">Nancy</div>
        <div class="doc-party-role">Defendant</div>
      </div>
    </div>

    <div class="doc-body">
      <p class="no-indent"><strong>TO THE ABOVE-NAMED DEFENDANT:</strong></p>

      <p>You are hereby summoned and required to appear before this Court on the matter of <strong>Valentine's Day, February 14, 2026</strong>, to answer the claims filed against you by the Plaintiff.</p>

      <p>The Plaintiff alleges that you did, knowingly and with full intent, commit the following offenses: making the Plaintiff smile at his phone like an idiot in public, being dangerously good company, and monopolizing his thoughts since September 2025.</p>

      <p>Failure to appear shall result in a default judgment of <em>one (1) full Valentine's Day spent together, from morning to night</em>, entered against you.</p>

      <p class="no-indent"><strong>YOU HAVE BEEN WARNED.</strong></p>
    </div>

    <div class="doc-stamp">
      <div class="doc-stamp-text">Served</div>
    </div>

    <div class="doc-btn-wrap">
      <button class="doc-btn" onclick="goTo('evidence')">Accept Service &rarr;</button>
    </div>
  </div>
</div>

<!-- SCREEN 2: EVIDENCE -->
<div id="evidence" class="screen">
  <div class="evidence-title">Evidence Room</div>
  <div class="evidence-subtitle">Unseal each exhibit to review the evidence against you.</div>

  <div class="exhibits">
    <div class="exhibit" onclick="revealExhibit(this, 0)">
      <div class="exhibit-label">Exhibit A</div>
      <div class="exhibit-content">The way you laugh &mdash; loud, unfiltered, and completely contagious. The Plaintiff never stood a chance.</div>
      <div class="exhibit-tag">Submitted as proof of irresistible charm</div>
    </div>
    <div class="exhibit" onclick="revealExhibit(this, 1)">
      <div class="exhibit-label">Exhibit B</div>
      <div class="exhibit-content">Every late-night conversation where hours disappeared like minutes. The Plaintiff's sleep schedule has never recovered.</div>
      <div class="exhibit-tag">Submitted as proof of addictive company</div>
    </div>
    <div class="exhibit" onclick="revealExhibit(this, 2)">
      <div class="exhibit-label">Exhibit C</div>
      <div class="exhibit-content">Those October video calls. The ones that were supposed to be quick but never were. That's when the Plaintiff knew he was in trouble.</div>
      <div class="exhibit-tag">Submitted as proof of intent to fall</div>
    </div>
    <div class="exhibit" onclick="revealExhibit(this, 3)">
      <div class="exhibit-label">Exhibit D</div>
      <div class="exhibit-content">The Plaintiff has started mentioning the Defendant in conversations with friends, family, and frankly anyone who will listen. He is not sorry about it.</div>
      <div class="exhibit-tag">Submitted as proof of compromised objectivity</div>
    </div>
  </div>

  <div class="evidence-progress" id="evidence-progress">Exhibits unsealed: 0 / 4</div>
  <button class="btn" id="evidence-next" onclick="goTo('motion')">Proceed to the Motion &rarr;</button>
</div>

<!-- SCREEN 3: MOTION / LEGAL BRIEF -->
<div id="motion" class="screen">
  <div class="document motion-doc">
    <div class="doc-header">
      <div class="doc-court">The Superior Court of Love</div>
      <div class="doc-circuit">First Circuit &mdash; Valentine's Division</div>
      <div class="doc-case-no">Case No. 14-0214</div>
    </div>

    <div class="doc-title">Motion to Compel Attendance<br>on Valentine's Day, 2026</div>

    <div class="doc-body">
      <p class="no-indent"><strong>COMES NOW</strong> the Plaintiff, Alex, and respectfully moves this Honorable Court for an Order compelling the Defendant, Nancy, to spend the entirety of Valentine's Day with the Plaintiff and to acknowledge the following facts:</p>

      <div class="motion-section">
        <p class="no-indent motion-section-title">Statement of Facts</p>

        <div class="motion-item" data-num="1.">The Plaintiff and Defendant have been in communication since approximately September 2025. On or around November 8, 2025, the parties proceeded to a first date &mdash; a date the Plaintiff considers one of his better decisions.</div>

        <div class="motion-item" data-num="2.">Since that date, the parties have continued to see each other with increasing frequency and enthusiasm. The Plaintiff submits that things are going really, really well.</div>

        <div class="motion-item" data-num="3.">This February 14th presents an opportunity the Plaintiff does not intend to waste. He respectfully argues that spending it together is the only logical course of action.</div>

        <div class="motion-item" data-num="4.">The Defendant is hereby on notice that the Plaintiff is falling for her. This condition shows no signs of abating and may in fact be getting worse.</div>
      </div>

      <div class="motion-section">
        <p class="no-indent motion-section-title">Prayer for Relief</p>

        <div class="prayer">
          <strong>WHEREFORE,</strong> the Plaintiff respectfully requests that this Court grant the following relief:<br><br>
          (a) One (1) full Valentine's Day, beginning with morning coffee and concluding no earlier than dessert;<br>
          (b) Reasonable hand-holding/cuddling privileges throughout the day;<br>
          (c) The right to plan at least one surprise during said day;<br>
          (d) And such other and further relief as this Court deems just, proper, and romantic.
        </div>
      </div>

      <div class="signature-block">
        Respectfully submitted,<br>
        <div class="signature-name">Alex</div>
        <em>Pro Se &mdash; Representing himself<br>
        (because no lawyer would take this case)</em>
      </div>
    </div>

    <div class="doc-btn-wrap">
      <button class="doc-btn" onclick="goTo('closing')">Hear the Closing Argument &rarr;</button>
    </div>
  </div>
</div>

<!-- SCREEN 4: CLOSING ARGUMENT -->
<div id="closing" class="screen">
  <div class="closing-container" id="closing-container">
    <!-- Lines injected by JS -->
  </div>
  <button class="btn" id="closing-next" onclick="goTo('verdict')">The Verdict &rarr;</button>
</div>

<!-- SCREEN 5: VERDICT -->
<div id="verdict" class="screen">
  <div class="verdict-card">
    <span class="gavel-icon">&sect;</span>
    <div class="verdict-overline">The Court Finds the Defendant</div>
    <div class="verdict-main">Guilty</div>
    <div class="verdict-sub">of making the Plaintiff catch feelings<br>with no intention of stopping.</div>

    <div class="verdict-sentence">
      The Court hereby sentences the Defendant to:<br>
      <span>One (1) full Valentine's Day with the Plaintiff,</span><br>
      <span>an undisclosed number of terrible puns,</span><br>
      <span>and the strong suspicion that this is just the beginning.</span>
    </div>

    <div class="verdict-btn-wrap">
      <button class="btn" onclick="acceptVerdict()">So Ordered &hearts;</button>
      <button class="btn btn-red" id="object-btn" onclick="objectVerdict()">I Object!</button>
    </div>
  </div>
</div>

<!-- SCREEN 6: FINAL -->
<div id="final" class="screen">
  <div class="final-message">
    <span class="final-heart">&hearts;</span>
    <div class="final-title">Case Closed.</div>
    <div class="final-text">
      Happy First Valentine's Day, Nancy.<br><br>
      See you on the 14th. Bring your whole day.
    </div>
    <div class="final-date">February 14, 2026 &mdash; The First of Many</div>
  </div>
</div>

<!-- OVERRULED OVERLAY -->
<div class="overruled-overlay" id="overruled-overlay">
  <div class="overruled-text">Overruled</div>
  <div class="overruled-reason" id="overruled-reason"></div>
  <div class="overruled-dismiss" onclick="dismissOverruled()">tap to dismiss</div>
</div>


<script>
  // ===== NAVIGATION =====
  function goTo(screenId) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    const target = document.getElementById(screenId);
    target.classList.add('active');

    if (screenId === 'closing') startClosing();
    if (screenId === 'verdict') triggerGavel();
  }

  // ===== EVIDENCE =====
  let exhibitsRevealed = 0;

  function revealExhibit(el, idx) {
    if (el.classList.contains('revealed')) return;
    el.classList.add('revealed');
    exhibitsRevealed++;
    document.getElementById('evidence-progress').textContent =
      `Exhibits unsealed: ${exhibitsRevealed} / 4`;

    if (exhibitsRevealed >= 4) {
      document.getElementById('evidence-next').classList.add('show');
    }
  }

  // ===== CLOSING ARGUMENT =====
  const closingLines = [
    { text: "Your Honor...", cls: "dim" },
    { text: "I'm not a lawyer. I don't have a case prepared." },
    { text: "But I do have a September text thread that never stopped." },
    { text: "And this girl who somehow makes everything funnier, warmer, better.", cls: "highlight" },
    { text: "I catch myself smiling at my phone like an idiot." },
    { text: "I run out of things to say and still don't want to hang up." },
    { text: "I'm not here to prove anything." },
    { text: "I just really like her.", cls: "highlight" },
    { text: "And I'd really like February 14th.", cls: "dim" },
    { text: "All of it.", cls: "dim" },
    { text: "The prosecution rests." },
  ];

  let closingStarted = false;

  function startClosing() {
    if (closingStarted) return;
    closingStarted = true;

    const container = document.getElementById('closing-container');

    closingLines.forEach((line, i) => {
      const div = document.createElement('div');
      div.className = 'closing-line' + (line.cls ? ' ' + line.cls : '');
      div.textContent = line.text;
      container.appendChild(div);

      setTimeout(() => {
        div.classList.add('visible');
      }, 800 + i * 1200);
    });

    setTimeout(() => {
      document.getElementById('closing-next').classList.add('show');
    }, 800 + closingLines.length * 1200 + 500);
  }

  // ===== VERDICT =====
  function triggerGavel() {
    // could add sound here
  }

  function acceptVerdict() {
    goTo('final');
    launchHearts();
  }

  const objectionReasons = [
    "The court takes judicial notice that you're stuck with him.",
    "This objection has been noted and immediately disregarded.",
    "Counsel's objection lacks legal basis and emotional logic.",
    "Denied. The evidence is beyond a reasonable doubt.",
    "Nice try, counselor. The ruling stands.",
    "The court reminds the Defendant that her calendar is already blocked.",
  ];

  let objectionIndex = 0;
  let objectionsDone = false;

  function objectVerdict() {
    if (objectionsDone) return;
    const overlay = document.getElementById('overruled-overlay');
    const reason = document.getElementById('overruled-reason');
    reason.textContent = objectionReasons[objectionIndex];
    objectionIndex++;
    overlay.classList.add('active');

    if (objectionIndex >= objectionReasons.length) {
      objectionsDone = true;
    }
  }

  function dismissOverruled() {
    document.getElementById('overruled-overlay').classList.remove('active');
    if (objectionsDone) {
      enableRunaway();
    }
  }

  function enableRunaway() {
    const btn = document.getElementById('object-btn');
    btn.style.position = 'fixed';
    btn.style.zIndex = '100';
    btn.style.transition = 'none';

    const moveAway = (e) => {
      const rect = btn.getBoundingClientRect();
      const btnCX = rect.left + rect.width / 2;
      const btnCY = rect.top + rect.height / 2;
      const dx = btnCX - e.clientX;
      const dy = btnCY - e.clientY;
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < 150) {
        const pad = 20;
        const maxX = window.innerWidth - rect.width - pad;
        const maxY = window.innerHeight - rect.height - pad;
        let newX = Math.random() * maxX;
        let newY = Math.random() * maxY;
        // Make sure it actually moves away from cursor
        while (Math.abs(newX - e.clientX) < 120 && Math.abs(newY - e.clientY) < 120) {
          newX = Math.random() * maxX;
          newY = Math.random() * maxY;
        }
        btn.style.left = newX + 'px';
        btn.style.top = newY + 'px';
      }
    };

    document.addEventListener('mousemove', moveAway);
    // Touch support
    document.addEventListener('touchmove', (e) => {
      moveAway({ clientX: e.touches[0].clientX, clientY: e.touches[0].clientY });
    });
  }

  // ===== HEARTS ANIMATION =====
  function launchHearts() {
    const canvas = document.getElementById('hearts-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const hearts = [];
    const colors = ['#c9a84c', '#c0334d', '#e8d48b', '#f0e6d3', '#8b2035'];

    for (let i = 0; i < 80; i++) {
      hearts.push({
        x: Math.random() * canvas.width,
        y: canvas.height + Math.random() * 200,
        size: Math.random() * 14 + 6,
        speedY: Math.random() * 2 + 1,
        speedX: (Math.random() - 0.5) * 1.5,
        color: colors[Math.floor(Math.random() * colors.length)],
        opacity: Math.random() * 0.7 + 0.3,
        rotation: Math.random() * Math.PI * 2,
        rotSpeed: (Math.random() - 0.5) * 0.05,
      });
    }

    function drawHeart(x, y, size, color, opacity, rotation) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rotation);
      ctx.globalAlpha = opacity;
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.moveTo(0, -size * 0.3);
      ctx.bezierCurveTo(-size * 0.5, -size, -size, -size * 0.4, 0, size * 0.5);
      ctx.bezierCurveTo(size, -size * 0.4, size * 0.5, -size, 0, -size * 0.3);
      ctx.fill();
      ctx.restore();
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      let alive = false;
      hearts.forEach(h => {
        h.y -= h.speedY;
        h.x += h.speedX;
        h.rotation += h.rotSpeed;

        if (h.y > -50) {
          alive = true;
          drawHeart(h.x, h.y, h.size, h.color, h.opacity, h.rotation);
        }
      });

      if (alive) requestAnimationFrame(animate);
    }

    animate();
  }

  window.addEventListener('resize', () => {
    const canvas = document.getElementById('hearts-canvas');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>

</body>
</html>
